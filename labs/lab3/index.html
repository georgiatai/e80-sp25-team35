<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lab 3: Operational Amplifiers and Marine Sensors â€“ E80 SP24</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-0cd6303fa7317944bf1646a070204224.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">E80 SP24</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../lectures/"> 
<span class="menu-text">Lectures</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-labs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Labs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-labs">    
        <li>
    <a class="dropdown-item" href="../../labs/overview">
 <span class="dropdown-text">Overview and Safety</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../labs/lab0">
 <span class="dropdown-text">Lab 0: Tutorial &amp; Skills Review</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../labs/lab1">
 <span class="dropdown-text">Lab 1: Go Autonomous</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../labs/lab2">
 <span class="dropdown-text">Lab 2: BEM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../labs/lab3">
 <span class="dropdown-text">Lab 3: Op-Amps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../labs/lab4">
 <span class="dropdown-text">Lab 4: Temperature</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../labs/lab5">
 <span class="dropdown-text">Lab 5: Acoustics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../labs/lab6">
 <span class="dropdown-text">Lab 6: Fluids</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-project" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Project</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-project">    
        <li>
    <a class="dropdown-item" href="../../project/overview">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../project/proposal">
 <span class="dropdown-text">Design and Proposal</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../project/navigation">
 <span class="dropdown-text">Navigation Jump Start</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../project/build">
 <span class="dropdown-text">Build and Integrate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../project/deploy">
 <span class="dropdown-text">Field Deployment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../project/report">
 <span class="dropdown-text">Present and Report</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-references" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">References</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-references">    
        <li>
    <a class="dropdown-item" href="../../reference/inventory">
 <span class="dropdown-text">Lab Inventory</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../reference/equipment">
 <span class="dropdown-text">Lab Equipment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../reference/board">
 <span class="dropdown-text">Board Information</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../reference/design">
 <span class="dropdown-text">Reference Designs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../reference/history">
 <span class="dropdown-text">Old Final Projects</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/HMC-E80/E80"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#op-amp-familiarity-and-offset-amplifier" id="toc-op-amp-familiarity-and-offset-amplifier" class="nav-link" data-scroll-target="#op-amp-familiarity-and-offset-amplifier"><span class="header-section-number">2</span> Op-Amp Familiarity and Offset Amplifier</a></li>
  <li><a href="#sec-led" id="toc-sec-led" class="nav-link" data-scroll-target="#sec-led"><span class="header-section-number">3</span> 555 Timer LED Driver</a></li>
  <li><a href="#sec-transimpedance" id="toc-sec-transimpedance" class="nav-link" data-scroll-target="#sec-transimpedance"><span class="header-section-number">4</span> Transimpedance Amplifiers</a></li>
  <li><a href="#turbidity-measurements" id="toc-turbidity-measurements" class="nav-link" data-scroll-target="#turbidity-measurements"><span class="header-section-number">5</span> Turbidity Measurements</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lab 3: Operational Amplifiers and Marine Sensors</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Team Size: 2</p>
<p>Submission Sheet: <a href="../../labs/lab3/submission.html">html</a> <a href="./submission.docx">docx</a></p>
<p>Prelab Help Sheet: <a href="../../labs/lab3/prelab.html">html</a></p>
<p>Writing Assignment: <a href="../../labs/lab3/writing.html">html</a></p>
<p>Writing Template: <a href="../../labs/lab3/writing-template.html">html</a> <a href="./writing-template.docx">docx</a></p>
<section id="introduction" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">1</span> Introduction</h2>
<p>In this lab you will use operational amplifiers to build a turbidity meter, a sensor that measures the relative clarity of water. Turbidity is an interesting and useful measurement in oceanography, so this turbidity meter could be a stepping stone towards your final project. Further, the op-amp techniques that you use to construct this turbidity meter will be useful in any final project you select; the ability to buffer, shift and scale Voltages and currents is essential to many instruments. Extra credit sections offer the opportunity to explore other interesting marine sensors, and those sensors are also excellent candidates for final project sensors.</p>
<p>After successful completion of this lab, you will be able to</p>
<ul class="task-list">
<li><label><input type="checkbox">Design and build an offset amplifier using an operational amplifier</label></li>
<li><label><input type="checkbox">Design and build a transimpedance amplifier using an operational amplifier</label></li>
<li><label><input type="checkbox">Design and build an oscillator using a 555 timer</label></li>
<li><label><input type="checkbox">Understand the basic use of LEDs and photodiodes</label></li>
<li><label><input type="checkbox">Explain clipping behavior in op-amps</label></li>
<li><label><input type="checkbox">Explain how modulating a signal can help separate it from background signals</label></li>
<li><label><input type="checkbox">Explain the basic theory of turbidity and turbidity measurements</label></li>
<li><label><input type="checkbox">Build and test a complex design by thoughtfully testing and assembling individual parts</label></li>
<li><label><input type="checkbox">Use linear regression to extract slope, offset, and appropriate error measures from data</label></li>
</ul>
<p>This lab will be carried out as sub-teams of two. Policies for sub-teams are discussed in <a href="../../labs/lab2/index.html">lab 2</a>.</p>
<p>This lab asks you to prepare solutions and handle chemicals. Though we arenâ€™t working with anything hazardous (or which canâ€™t be flushed down the drain), be sure to observe good chemical hygiene practices and use gloves and goggles when handling chemicals or sensitive equipment. Always use gloves when handling any glassware that will go into the turbidity meter.</p>
<p>There are a few resources used in this lab which must be shared. Please respect others and donâ€™t abuse these resources. All the teams in lab are going to have to share a single turbidity meter and beaker of mystery solution. There will be three digital scales available. For Extra Credit 1, we have a limited supply of buffer solutions which must last for all our labs, so donâ€™t pour out more than you need to cover your pH probes and be sure to use the smaller set of beakers.</p>
</section>
<section id="op-amp-familiarity-and-offset-amplifier" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="op-amp-familiarity-and-offset-amplifier"><span class="header-section-number">2</span> Op-Amp Familiarity and Offset Amplifier</h2>
<p>In this section, we are going to demonstrate an op-amp failing to work properly, then we will correct that failure by modifying the op-amp circuit. The modified circuit will be an offset amplifier, which is one of the most common circuits in the final project.</p>
<p>Do the following:</p>
<ol type="1">
<li>Use an <a href="http://ww1.microchip.com/downloads/en/DeviceDoc/21314g.pdf">MCP601</a> to build a single-rail, non-inverting amplifier with a gain of two. Pay attention to the maximum allowed supply Voltage. Use a 5 V supply Voltage.</li>
<li>Apply a 100 mV amplitude sine wave with a 1 V offset to the amplifier input and observe the output. This output should match simple theoretical calculations well.</li>
<li>Apply a 100 mV amplitude sine wave with a 0 V offset to the amplifier input and observe the output. This output should have severe non-idealities related to the amplifier behavior. Identify the non-idealities, and explain why they are present in the output.</li>
<li>Design, build and test an offset amplifier that can take a 100mV amplitude sine wave with 0 V offset and produce an output with none of the non-idealities in step 3. Use a 5 V supply Voltage and aim for a gain of negative two (an inverting gain) and an appropriate offset.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why the MCP601?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We are using the MCP601, MCP6002 and MCP6004 in this lab because they are single rail op-amps that are easy to power from a battery. That makes them particularly useful in the final project. You used a few dual rail op-amps in lab 2, and some final projects might demand dual rail op-amps for exacting measurements. For instance, extra credit 1 demands a TL081 for good reason. Talk to an instructor if you want to learn more about the difference between op-amps, which largely have to do with input impedances, output voltage ranges, and some properties that can affect uncertainty.</p>
</div>
</div>
</div>
</section>
<section id="sec-led" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="sec-led"><span class="header-section-number">3</span> 555 Timer LED Driver</h2>
<p>Turbidity is a measurement that depends on illuminating a water sample, then measuring the ratio of transmitted and 90Â° scattered light. We are going to use an infrared light-emitting diode (IR LED) called the <a href="https://media.digikey.com/PDF/Data%20Sheets/Everlight%20PDFs/9-IR1503.pdf">IR1503</a> to illuminate our sample, and we are going to blink it on and off using a circuit called a <a href="https://www.ti.com/lit/ds/symlink/se555.pdf?">555 timer</a>. Because IR radiation is invisible to the human eye, we need a sensor to tell if our system is working, and the <a href="http://datasheet.octopart.com/OP950-TT-datasheet-7617992.pdf">OP950</a> IR photodiode serves that job well.</p>
<ol type="1">
<li>Build an astable 555 timer oscillator that has a frequency between 500 Hz and 1 kHz and a <a href="https://en.wikipedia.org/wiki/Duty_cycle">duty cycle</a> of approximately 60%. If you use reference designs from the datasheet, <strong>omit RL</strong> from any circuit you build.</li>
<li>Verify that your oscillator is working by measuring the oscillator output Voltage and the capacitor Voltage.</li>
<li>Attach a series combination of a resistor and an IR1503 the output of the 555 timer. Select the resistor value and diode orientation such that you will drive 20-40 mA through the diode when the output is high. Selecting this resistor will require approximating the diodeâ€™s forward voltage (VF) at your desired current level, and information in the datasheet can help you figure out an appropriate VF.</li>
<li>Measure the Voltage across the resistor in the resistor-IR1503 combination while the 555 timer is operating. Check that this Voltage waveform implies that the correct current waveform is passing through the IR1503.</li>
<li>Build the switching time test circuit in the OP950 datasheet and use it to check that IR light is coming out of your IR1503. Itâ€™s easy to get the OP950 backwards or to pick an unsuitable resistor value, so play around a bit with flipping your OP950 polarity or trying a few different VR and RL values.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Why Series Resistors on LEDs?
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>LEDs, like all diodes, have an exponential relationship between the voltage applied across them and the current that passes through them. That means applying voltage carelessly can easily blow them up. We prevent such explosions by installing a resistor in series with our IR1503 when we use them. Note that you donâ€™t have to calculate the exponential behavior of the diode because graphs and tables in the datasheet have all the information you need.</p>
<p>The OP950 has similar behavior, so hook it up in series with resistors when youâ€™re testing it on its own. However, we usually use OP950s in transimpedance amplifiers (see <a href="#sec-transimpedance" class="quarto-xref">Section&nbsp;4</a>), which protects them from careless overvoltage conditions.</p>
<p><a href="http://www.physics.unlv.edu/~bill/PHYS483/LED_PIN.pdf">This reference</a> provides background information on LEDs and photodiodes.</p>
</div>
</div>
</div>
</section>
<section id="sec-transimpedance" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="sec-transimpedance"><span class="header-section-number">4</span> Transimpedance Amplifiers</h2>
<p>We will need to measure the amount of light that passes through a solution (either by transmission or 90Â° scattering) in our turbidity meter. The current through a photodiode is linear in irradiance (see the Light Current vs.&nbsp;Irradiance figure in the OP950 datasheet), so measuring the current passing through a photodiode is equivalent to making a linear measure of incident optical power. Thatâ€™s great for us, but we donâ€™t know how to measure currents yet. Fortunately, op-amps can help with this, but only if we build a new kind of circuit, called a transmipedance amplifier, which is pictured in <a href="#fig-transimpedance" class="quarto-xref">Figure&nbsp;1</a>.</p>
<div id="fig-transimpedance" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-transimpedance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../../labs/lab3/img/transimpedance_3.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-transimpedance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Schematic for a transimpedance amplifier
</figcaption>
</figure>
</div>
<ol type="1">
<li>Analyze the transimpedance amplifier circuit to determine a formula that relates the diode current, ID, the feedback resistance, RF, and the output voltage, VOUT. Note that the diode acts like a current source pointing away from the op-amp when the photodiode is illuminated.</li>
<li>Build a transimpedance amplifier using the <a href="https://www.digikey.com/en/products/detail/microchip-technology/MCP6004-I-P/523060">MCP6004</a> and an OP950. Configure unused op-amps as unity gain buffers with their inputs and outputs grounded.</li>
<li>Use your LED light source from <a href="#sec-led" class="quarto-xref">Section&nbsp;3</a> to test the transimpedance amplifier. If you are seeing no signal, try flipping your OP950 around. Adjust the feedback resistor so you are seeing a large output signal.</li>
<li>Build and test a second copy of this op-amp circuit for use in your turbidity meter.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Transimpedance Deep Cuts
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Note: Transimpedance amplifiers can be designed in many ways. The design we are recommending that you use is not the highest-speed design. High-speed designs will reverse bias the diode to reduce its junction capacitance (a type of parasitic capacitance found in all diodes) and add a capacitor in parallel with the feedback resistor to filter out noise. However, applying the reverse bias makes current flow the other direction, which would require that the op-amp be dual rail or have an offset to ensure correct operation. This design is the simplest for a single-rail system, and it doesnâ€™t lose performance when measuring large, slow signals like ours.</p>
</div>
</div>
</div>
</section>
<section id="turbidity-measurements" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="turbidity-measurements"><span class="header-section-number">5</span> Turbidity Measurements</h2>
<p>Now it is time to assemble and use the turbidity meter. You will prepare solutions of known turbidity using the <a href="https://drive.google.com/file/d/1aRRGL3DGFiiZZP9Hb7o4LIQauYPwHxP3/view?usp=sharing">TU-2016</a> calibrated laboratory turbidity meter, illuminate them with the LED from <a href="#sec-led" class="quarto-xref">Section&nbsp;3</a>, then measure the transmitted and 90Â° scattered light using the transimpedance amplifiers from <a href="#sec-transimpedance" class="quarto-xref">Section&nbsp;4</a>. Arranging all of these elements â€“ the sample cuvette holding your solutions, the LEDs and the photodiodes â€“ requires a little bit of mechanical finesse, so we provide a 3D printed fixture (<a href="https://drive.google.com/open?id=1-pEcuCK1zzoU1dhB6DvrvpxaZKwmPZqh">instructions</a>, <a href="https://drive.google.com/open?id=1peSZif9B1dCVGjBPbByFevaRjnXc4YCT">Solidworks for base</a>, <a href="https://drive.google.com/open?id=1zrdfRXLA9rLq4WYW_jSm_Pb-nRgdP9Iq">Solidworks for cover</a>) for holding the cuvette, LED and photodiodes.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can Damage the Turbidity Meter</p>
<ul>
<li>DO NOT EVER OPEN THE CALIBRATION STANDARDS</li>
<li>Never touch the glass of the turbidity testing containers with your bare fingers. Handling them with clean gloves is OK.</li>
<li>Be sure to read the TU-2016 instruction manual to familiarize yourself with the operation of the meter before using it.</li>
</ul>
</div>
</div>
<ol type="1">
<li>Prepare a set of solutions of different turbidities using milk and water. Use cuvettes to hold your solutions. You should not need to fill the cuvettes more than 1/2 full. Eyedroppers or beakers may help you to add more precise volumes of milk to your solution.</li>
<li>Check the turbidities of your solutions using the TU-2016.</li>
<li>Assemble your turbidity measurement setup. Note that you can connect your circuits to the measurement fixture in two ways: (1) solder long wires to the OP950s and IR1503 then connect those to a breadboard, or (2) place your measurement fixture directly on top of the breadboard and put the diode feet directly into breadboard rows.</li>
<li>Measure your solutions with your own turbidity measurement setup and record the peak-peak Voltages of your 90Â° and transmission transimpedance amplifier outputs.</li>
<li>Plot the ratio of the 90Â° Vpp to the transmission Vpp against the calibrated turbidity of your solutions.</li>
<li>Add a line of best fit and appropriate uncertainty measurements.</li>
<li>Examine the effect of ambient light on your measurements by shadowing your experimental setup while watching a transimpedance amplifier Voltage. Use your observation to justify why we switch our LED on and off with the 555 timer and why we care about peak-peak voltages instead of absolute voltages.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Turbidity and Nephelometry Background
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Turbidity is an optical measurement that is related to the total undissolved solids in the water. Turbidity is an important environmental monitor since undissolved solids can be indicative of eroded runoff, disturbance of the sea floor or other sources of particles.</p>
<p>Modern electronic measurements of turbidity are measured by shining light through a sample and measuring transmission â€” how much light passes directly through â€” and 90Â° scattering â€” how much light bounces off the particles to a sensor located at 90Â° relative to the light source.</p>
<p>Devices which measure only 90Â° scattering are called nephelometers, and devices which measure the ratio of the 90Â° signal to the transmitted signal are called turbidity meters or turbidimeters. The relative effectiveness of the two devices depends on exactly how many solids are in the water.</p>
<p><a href="https://www.lakesuperiorstreams.org/understanding/param_turbidity.html">This link</a> has some additional information about turbidity, including a picture of some suspensions of different turbidity for visual reference.</p>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/georgiatai\.github\.io\/e80-sp25-team35\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>